<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="utf-8">
<!-- ConfigWidget.cpp -->
  <meta name="description" content="此类从CWJson创建配置窗口。">
  <title>ConfigWidget Class | YSSCore</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="ysscore-module.html" translate="no">YSSCore</a></li>
<li>ConfigWidget</li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">ConfigWidget Class</h1>
<span class="small-subtitle" translate="no">class <a href="ysscore-module.html" translate="no">YSSCore</a>::<a href="ysscore-editor.html" translate="no">Editor</a>::ConfigWidget</span>
<!-- $$$ConfigWidget-brief -->
<p>此类从CWJson创建配置窗口。. <a href="#details">More...</a></p>
<!-- @@@ConfigWidget -->
<div class="table"><table class="alignedsummary requisites" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <code translate="no">#include &lt;ConfigWidget&gt;</code></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Yayin Story Studio 0.13.0</td></tr>
</table></div>
<ul>
<li><a href="ysscore-editor-configwidget-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> <code class="summary extra" translate="no">(since Yayin Story Studio 0.13.0)</code> virtual </td><td class="memItemRight bottomAlign"><b><a href="ysscore-editor-configwidget.html#dtor.ConfigWidget" translate="no">~ConfigWidget</a></b>()</td></tr>
</table></div>
<!-- $$$ConfigWidget-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>此类提供一种便捷的配置文件操作窗口创建方式，使用一种被约定为“CWJSON”的Json格式来描述配置窗口的内容。并且 允许窗口和一个配置文件相绑定，将结果同步到配置文件中。</p>
<p>CWJson的顶层格式如下：</p>
<pre class="cpp plain" translate="no">
 {
         &quot;target&quot;: &quot;$(ProgramPath)/resource/test_config.json&quot;,
         &quot;targetType&quot;: &quot;json&quot;,
         &quot;widget&quot;:[]
 }
</pre>
<p>其中，target为目标配置文件的路径，targetType为目标配置文件的类型，widget为窗口的内容。</p>
<div class="admonition note">
<p><b>Note: </b>当前，targetType仅支持json格式，目前有支持YAML的计划，但具体实现时间未定。</p>
</div>
<p>对于widget来说，其基本格式如下，我们以一个ComboBox类型的配置为例：</p>
<pre class="cpp plain" translate="no">
 {
         &quot;node&quot;: &quot;Theme&quot;,
         &quot;type&quot;: &quot;ComboBox&quot;,
         &quot;icon&quot;: &quot;&quot;,
         &quot;title&quot;: &quot;i18n:YSS::config.theme.title&quot;,
         &quot;text&quot;: &quot;i18n:YSS::config.theme.text&quot;,
         &quot;data&quot;: {
                 &quot;comboBox&quot;: [
                         {
                                 &quot;data&quot;: &quot;theme_dark&quot;,
                                 &quot;key&quot;: &quot;i18n:YSS::config.theme.dark&quot;
                         },
                         {
                                 &quot;data&quot;: &quot;theme_light&quot;,
                                 &quot;key&quot;: &quot;i18n:YSS::config.theme.light&quot;
                         }
                 ],
                 &quot;default&quot;: &quot;theme_dark&quot;
         },
         &quot;children&quot;: []
 }
</pre>
<p>其中，node是要绑定到的配置项节点，子一级节点会自动继承父一级节点的名称。 type是要创建的控件类型，icon是控件的图标，title是控件的标题，text是控件的描述。 data是控件的具体数据，children是控件的子控件。</p>
<p>对于type，当前支持的类型为ComboBox、RadioButton、Frame和LineEdit。其中Frame是 专门用来作为容器的控件，没有输入功能。</p>
<p>title和text支持YSS翻译系统，当其以“i18n:”开头时，会自动进行翻译，具体参见 YSSCore::General::TranslationHost。</p>
<p>不同的控件类型有不同的data格式，ComboBox的格式已经在上面给出，RadioButton的格式如下：</p>
<pre class="cpp plain" translate="no">
 &quot;data&quot;: {
         &quot;default&quot;: true
 }
</pre>
<p>即只提供默认是否选中即可。而LineEdit的格式如下：</p>
<pre class="cpp plain" translate="no">
 &quot;data&quot;: {
         &quot;default&quot;: &quot;test&quot;
         &quot;check&quot;: {
                 &quot;min&quot;: 1,
                 &quot;max&quot;: 10,
                 &quot;regex&quot;: &quot;^[a-zA-Z0-9]+$&quot;
         }
 }
</pre>
<p>其中，check为检查项，min和max为最小和最大长度，regex为正则表达式。</p>
<div class="admonition note">
<p><b>Note: </b>目前，LineEdit的检查项仅支持最小和最大长度，正则表达式的检查项未实现。</p>
</div>
</div>
<!-- @@@ConfigWidget -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$~ConfigWidget[overload1]$$$~ConfigWidget -->
<h3 class="fn" translate="no" id="dtor.ConfigWidget"><code class="details extra" translate="no">[virtual noexcept, since Yayin Story Studio 0.13.0]</code> ConfigWidget::<span class="name">~ConfigWidget</span>()</h3>
<p>析构函数</p>
<p>This function was introduced in Yayin Story Studio 0.13.0.</p>
<!-- @@@~ConfigWidget -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <abbr title="Copyright">&copy;</abbr> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
